(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-31636c87"],{"0560":function(t,e,a){"use strict";var n=a("88d4"),r=a("34cd").find,i=a("d421"),l="find",o=!0;l in[]&&Array(1)[l]((function(){o=!1})),n({target:"Array",proto:!0,forced:o},{find:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),i(l)},"4ac3":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"flashSale"},[a("el-card",{staticClass:"card",attrs:{shadow:"always","body-style":{padding:"20px"}}},[a("div",{attrs:{slot:"header"},slot:"header"},[a("span",[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:t.addFlashSale}},[t._v("新增")])],1)]),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.list,border:""}},[a("el-table-column",{attrs:{label:"序号",type:"index",fixed:"left",align:"center","header-align":"center"}}),a("el-table-column",{attrs:{prop:"pic",label:"商品图片","min-width":"150px",align:"center","header-align":"center"},scopedSlots:t._u([{key:"default",fn:function(t){return[a("img",{staticStyle:{width:"100px",height:"100px"},attrs:{src:t.row.pic,alt:""}})]}}])}),a("el-table-column",{attrs:{label:"活动时间","min-width":"300px",align:"center","header-align":"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("p",[t._v("开始时间: "+t._s(e.row.promotionStartTime))]),a("p",[t._v("结束时间: "+t._s(e.row.promotionEndTime))])]}}])}),a("el-table-column",{attrs:{label:"是否过期","min-width":"150px",align:"center","header-align":"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(t.judgeTime(e.row.promotionEndTime))+" ")]}}])}),a("el-table-column",{attrs:{prop:"name",label:"商品名称","min-width":"200px",align:"center","header-align":"center"}}),a("el-table-column",{attrs:{prop:"brandName",label:"品牌名称","min-width":"200px",align:"center","header-align":"center"}}),a("el-table-column",{attrs:{prop:"price",label:"商品价格","min-width":"200px",align:"center","header-align":"center"}}),a("el-table-column",{attrs:{prop:"productCategoryName",label:"商品类别","min-width":"200px",align:"center","header-align":"center"}}),a("el-table-column",{attrs:{prop:"createTime",label:"创建时间","min-width":"200px",align:"center","header-align":"center"}}),a("el-table-column",{attrs:{fixed:"right",label:"操作","min-width":"100px",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{staticStyle:{color:"red"},attrs:{type:"text",size:"small"},on:{click:function(a){return t.delFlashSale(e.row.recommendId)}}},[t._v("删除")])]}}])})],1)],1),a("detail-com",{ref:"detail",on:{success:t.detailSuccess}})],1)},r=[],i=a("b775");function l(){return Object(i["a"])({url:"/lejuAdmin/homeRecommend/findAllRecommends"})}function o(t){return Object(i["a"])({url:"/lejuAdmin/homeRecommend/delRecommend/".concat(t),method:"delete"})}function s(t){return Object(i["a"])({url:"/lejuAdmin/homeRecommend/addRecommend",method:"post",data:t})}var c=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"detail"},[a("el-dialog",{attrs:{title:"热销详情",visible:t.open,width:"80%"},on:{"update:visible":function(e){t.open=e}}},[a("el-card",{staticClass:"card",attrs:{shadow:"never","body-style":{padding:"20px"}}},[a("div",{attrs:{slot:"header"},slot:"header"},[a("span",[t._v("条件查询")])]),a("el-form",{ref:"form",attrs:{model:t.searchData,size:"mini"}},[a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{span:4}},[a("el-form-item",[a("el-input",{attrs:{placeholder:"商品名称/模糊查询"},model:{value:t.searchData.name,callback:function(e){t.$set(t.searchData,"name",e)},expression:"searchData.name"}})],1)],1),a("el-col",{attrs:{span:4}},[a("el-form-item",[a("el-input",{attrs:{placeholder:"商品货号"},model:{value:t.searchData.productSn,callback:function(e){t.$set(t.searchData,"productSn",e)},expression:"searchData.productSn"}})],1)],1),a("el-col",{attrs:{span:4}},[a("el-form-item",[a("el-select",{attrs:{placeholder:"品牌"},model:{value:t.searchData.brandId,callback:function(e){t.$set(t.searchData,"brandId",e)},expression:"searchData.brandId"}},t._l(t.brandList,(function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})})),1)],1)],1),a("el-col",{attrs:{span:4}},[a("el-form-item",[a("el-select",{attrs:{placeholder:"上架状态"},model:{value:t.searchData.publishStatus,callback:function(e){t.$set(t.searchData,"publishStatus",e)},expression:"searchData.publishStatus"}},[a("el-option",{attrs:{label:"上架",value:1}}),a("el-option",{attrs:{label:"未上架",value:0}})],1)],1)],1),a("el-col",{attrs:{span:4}},[a("el-form-item",[a("el-select",{attrs:{placeholder:"审核状态"},model:{value:t.searchData.verifyStatus,callback:function(e){t.$set(t.searchData,"verifyStatus",e)},expression:"searchData.verifyStatus"}},[a("el-option",{attrs:{label:"审核",value:1}}),a("el-option",{attrs:{label:"未审核",value:0}})],1)],1)],1),a("el-col",{attrs:{span:4}},[a("el-button",{attrs:{size:"mini"},on:{click:t.resetSearch}},[t._v("重置")]),a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:t.onSubmit}},[t._v("搜索")])],1)],1)],1)],1),a("el-card",{staticClass:"card",attrs:{shadow:"never","body-style":{padding:"20px"}}},[a("div",{attrs:{slot:"header"},slot:"header"},[a("span",[t._v("商品列表")])]),a("div",{staticClass:"card-body"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.list,border:""}},[a("el-table-column",{attrs:{label:"序号",type:"index",fixed:"left",align:"center","header-align":"center"}}),a("el-table-column",{attrs:{prop:"editorType",label:"操作",width:"100px",align:"center","header-align":"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text"},on:{click:function(a){return t.openEdit(e.row.id)}}},[t._v("编辑")])]}}])}),a("el-table-column",{attrs:{prop:"pic",label:"商品图片","min-width":"150px",align:"center","header-align":"center"},scopedSlots:t._u([{key:"default",fn:function(t){return[a("img",{staticStyle:{width:"100px",height:"100px"},attrs:{src:t.row.pic,alt:""}})]}}])}),a("el-table-column",{attrs:{prop:"name",label:"商品名称","min-width":"300px",align:"left","header-align":"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("p",[t._v("名称："+t._s(e.row.name))]),a("p",[t._v("品牌："+t._s(e.row.brandName))]),a("p",[t._v("描述："+t._s(e.row.description))])]}}])}),a("el-table-column",{attrs:{prop:"createTime",label:"商品价格","min-width":"150px",align:"center","header-align":"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("p",[t._v("原价："+t._s(e.row.originalPrice))]),a("p",[t._v("现价："+t._s(e.row.price))])]}}])}),a("el-table-column",{attrs:{prop:"productCategoryName",label:"商品类别",align:"center","header-align":"center"}}),a("el-table-column",{attrs:{prop:"weight",label:"重量","min-width":"80px",align:"center","header-align":"center"}})],1),a("el-pagination",{attrs:{"current-page":t.start,"page-sizes":[5,10,15,20],"page-size":10,layout:"total, sizes, prev, pager, next, jumper",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)]),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.open=!1}}},[t._v("取消")])],1)],1),a("el-dialog",{attrs:{title:"编辑限时活动",visible:t.isEditOpen,width:"50%"},on:{"update:visible":function(e){t.isEditOpen=e}}},[a("el-form",{ref:"form",attrs:{model:t.addFlashSaleParams,rules:t.rules,"label-width":"80px",inline:!1,size:"mini"}},[a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"商品原价"}},[a("span",[t._v(t._s(t.productInfo&&t.productInfo.price))])])],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"商品名称"}},[a("span",[t._v(t._s(t.productInfo&&t.productInfo.name))])])],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{prop:"promotionPrice",label:"促销价格"}},[a("el-input-number",{staticStyle:{width:"100%"},attrs:{min:0},model:{value:t.addFlashSaleParams.promotionPrice,callback:function(e){t.$set(t.addFlashSaleParams,"promotionPrice",e)},expression:"addFlashSaleParams.promotionPrice"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{prop:"sort",label:"排序"}},[a("el-input-number",{staticStyle:{width:"100%"},attrs:{min:0},model:{value:t.addFlashSaleParams.sort,callback:function(e){t.$set(t.addFlashSaleParams,"sort",e)},expression:"addFlashSaleParams.sort"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{prop:"promotionStartTime",label:"开始时间"}},[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"datetime",placeholder:"开始时间","value-format":"yyyy-MM-dd HH:mm:ss"},model:{value:t.addFlashSaleParams.promotionStartTime,callback:function(e){t.$set(t.addFlashSaleParams,"promotionStartTime",e)},expression:"addFlashSaleParams.promotionStartTime"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{prop:"promotionEndTime",label:"结束时间"}},[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"datetime",placeholder:"结束时间","value-format":"yyyy-MM-dd HH:mm:ss"},model:{value:t.addFlashSaleParams.promotionEndTime,callback:function(e){t.$set(t.addFlashSaleParams,"promotionEndTime",e)},expression:"addFlashSaleParams.promotionEndTime"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{prop:"promotionPerLimit",label:"活动限购数量"}},[a("el-input",{model:{value:t.addFlashSaleParams.promotionPerLimit,callback:function(e){t.$set(t.addFlashSaleParams,"promotionPerLimit",e)},expression:"addFlashSaleParams.promotionPerLimit"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"商品图片"}},[a("img",{staticStyle:{width:"100%",height:"100%"},attrs:{src:t.productInfo&&t.productInfo.pic,alt:""}})])],1)],1)],1),a("span",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.isEditOpen=!1}}},[t._v("取消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.confirmAdd}},[t._v("确定")])],1)],1)],1)},d=[],u=(a("0560"),a("89a8"),a("1a91"),a("f3b6")),m=a("dabb"),p={data:function(){return{open:!1,isEditOpen:!1,searchData:{brandId:"",id:"",name:"",productCategoryId:"",productSn:"",publishStatus:"",verifyStatus:""},start:1,limit:10,total:0,brandList:[],list:[],addFlashSaleParams:{brandName:"",createTime:"",modifyTime:"",name:"",pic:"",price:"",productCategoryName:"",productId:"",productSn:"",promotionEndTime:"",promotionPerLimit:"",promotionPrice:"",promotionStartTime:"",publishStatus:"",recommendId:"",sort:"",type:""},productInfo:{},rules:{promotionPrice:[{required:!0,message:"请填写促销价格",trigger:"change"}],sort:[{required:!0,message:"请填写排序参数",trigger:"change"}],promotionStartTime:[{required:!0,message:"请选择活动开始时间",trigger:"change"}],promotionEndTime:[{required:!0,message:"请选择活动结束时间",trigger:"change"}],promotionPerLimit:[{required:!0,message:"请填写限购数量",trigger:"blur"}]}}},created:function(){this.init()},mounted:function(){},methods:{confirmAdd:function(){var t=this;this.$confirm("是否确认新增最热推荐商品?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){s(t.addFlashSaleParams).then((function(e){console.log(e),e.success?(t.isEditOpen=!1,t.open=!1,t.productId="",t.$emit("success"),t.$message.success("添加成功")):t.$message.error("添加失败")}))}))},openEdit:function(t){this.isEditOpen=!0,this.productInfo=this.list.find((function(e){return e.id===t})),this.addFlashSaleParams.productId=this.productInfo.id},openDetail:function(){this.open=!0},onSubmit:function(){this.init()},resetSearch:function(){this.searchData={brandId:"",id:"",name:"",productCategoryId:"",productSn:"",publishStatus:"",verifyStatus:""}},init:function(){var t=this;Object(u["d"])(this.start,this.limit,this.searchData).then((function(e){console.log(e),e.data.rows.forEach((function(t){t.newStatus=!!t.newStatus,t.recommendStatus=!!t.recommendStatus,t.publishStatus=!!t.publishStatus,t.verifyStatus=!!t.verifyStatus})),t.list=e.data.rows,t.total=e.data.total})),Object(m["a"])().then((function(e){console.log(e),t.brandList=e.data.items}))},handleSizeChange:function(t){this.limit=t,this.init()},handleCurrentChange:function(t){this.start=t,this.init()}}},h=p,f=a("cba8"),b=Object(f["a"])(h,c,d,!1,null,"aa131c6e",null),g=b.exports,S={components:{detailCom:g},data:function(){return{list:[]}},created:function(){this.init()},mounted:function(){},methods:{addFlashSale:function(){this.$refs.detail.openDetail()},detailSuccess:function(){this.init()},delFlashSale:function(t){var e=this;this.$confirm("此操作将永久删除该活动, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){e.$message({type:"success",message:"删除成功!"}),o(t).then((function(t){console.log(t),e.init()}))})).catch((function(){e.$message({type:"info",message:"已取消删除"})}))},judgeTime:function(t){var e=(new Date).getTime()-new Date(t).getTime();return e>0?"过期":"否"},init:function(){var t=this;l().then((function(e){console.log(e),t.list=e.data.items}))}}},v=S,y=Object(f["a"])(v,n,r,!1,null,"5e5d3b7e",null);e["default"]=y.exports},dabb:function(t,e,a){"use strict";a.d(e,"a",(function(){return r}));var n=a("b775");function r(){return Object(n["a"])({url:"/lejuAdmin/brand/findAllBrand"})}},f3b6:function(t,e,a){"use strict";a.d(e,"d",(function(){return r})),a.d(e,"e",(function(){return i})),a.d(e,"g",(function(){return l})),a.d(e,"f",(function(){return o})),a.d(e,"h",(function(){return s})),a.d(e,"b",(function(){return c})),a.d(e,"a",(function(){return d})),a.d(e,"c",(function(){return u})),a.d(e,"i",(function(){return m}));a("b3d9");var n=a("b775");function r(t,e,a){return Object(n["a"])({url:"/lejuAdmin/product/productsByPage/".concat(t,"/").concat(e),method:"post",data:a})}function i(t){return Object(n["a"])({url:"/lejuAdmin/product/switchNewStatus",method:"post",data:t})}function l(t){return Object(n["a"])({url:"/lejuAdmin/product/switchRecommandStatus",method:"post",data:t})}function o(t){return Object(n["a"])({url:"/lejuAdmin/product/switchPublishStatus",method:"post",data:t})}function s(t){return Object(n["a"])({url:"/lejuAdmin/product/switchVerifyStatus",method:"post",data:t})}function c(t){return Object(n["a"])({url:"/lejuAdmin/product/del/".concat(t),method:"delete"})}function d(t){return Object(n["a"])({url:"/lejuAdmin/product/addProductAndSkus",method:"post",data:t})}function u(t){return Object(n["a"])({url:"/lejuAdmin/product/productSkusDetail/".concat(t)})}function m(t){return Object(n["a"])({url:"/lejuAdmin/product/updateProductAndSkus",method:"post",data:t})}}}]);