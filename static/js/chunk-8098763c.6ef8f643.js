(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-8098763c"],{"3aea":function(t,e,a){},dabb:function(t,e,a){"use strict";a.d(e,"a",(function(){return r}));var n=a("b775");function r(){return Object(n["a"])({url:"/lejuAdmin/brand/findAllBrand"})}},dfda:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"goodsList"},[a("el-collapse",{staticClass:"intro"},[a("el-collapse-item",{attrs:{title:"商品管理介绍",name:"1"}},[a("div",[t._v("商品管理模块可以对客户端的商品进行增删改查等相关操作,来控制客户端商品的列表展示和商品详情")])])],1),a("el-collapse",{staticClass:"search card"},[a("el-collapse-item",{attrs:{title:"条件查询",name:"2"}},[a("el-form",{ref:"form",attrs:{model:t.searchData,"label-width":"80px",size:"small"}},[a("el-row",{attrs:{gutter:15}},[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"商品名称"}},[a("el-input",{attrs:{placeholder:"商品名称/模糊查询"},model:{value:t.searchData.name,callback:function(e){t.$set(t.searchData,"name",e)},expression:"searchData.name"}})],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"商品货号"}},[a("el-input",{attrs:{placeholder:"商品货号"},model:{value:t.searchData.productSn,callback:function(e){t.$set(t.searchData,"productSn",e)},expression:"searchData.productSn"}})],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"品牌"}},[a("el-select",{attrs:{placeholder:"品牌"},model:{value:t.searchData.brandId,callback:function(e){t.$set(t.searchData,"brandId",e)},expression:"searchData.brandId"}},t._l(t.brandList,(function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})})),1)],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"上架状态"}},[a("el-select",{attrs:{placeholder:"上架状态"},model:{value:t.searchData.publishStatus,callback:function(e){t.$set(t.searchData,"publishStatus",e)},expression:"searchData.publishStatus"}},[a("el-option",{attrs:{label:"上架",value:1}}),a("el-option",{attrs:{label:"未上架",value:0}})],1)],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"审核状态"}},[a("el-select",{attrs:{placeholder:"审核状态"},model:{value:t.searchData.verifyStatus,callback:function(e){t.$set(t.searchData,"verifyStatus",e)},expression:"searchData.verifyStatus"}},[a("el-option",{attrs:{label:"审核",value:1}}),a("el-option",{attrs:{label:"未审核",value:0}})],1)],1)],1),a("el-col",{attrs:{span:4,offset:14}},[a("el-button",{attrs:{size:"small"},on:{click:t.resetSearch}},[t._v("重置")]),a("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.onSubmit}},[t._v("搜索")])],1)],1)],1)],1)],1),a("div",{staticClass:"list card"},[a("div",{staticClass:"card-head"},[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:t.addProduct}},[t._v("新增")]),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:t.exportExcel}},[t._v("导出商品列表Excel文件")])],1),a("div",{staticClass:"card-body"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.list,border:""}},[a("el-table-column",{attrs:{label:"#",type:"index",fixed:"left",align:"center","header-align":"center"}}),a("el-table-column",{attrs:{prop:"pic",label:"商品图片","min-width":"150px",align:"center","header-align":"center"},scopedSlots:t._u([{key:"default",fn:function(t){return[a("img",{staticStyle:{width:"100px"},attrs:{src:t.row.pic,alt:""}})]}}])}),a("el-table-column",{attrs:{prop:"name",label:"商品名称","min-width":"300px",align:"center","header-align":"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("p",[t._v("名称："+t._s(e.row.name))]),a("p",[t._v("品牌："+t._s(e.row.brandName))]),a("p",[t._v("描述："+t._s(e.row.description))])]}}])}),a("el-table-column",{attrs:{prop:"createTime",label:"商品价格","min-width":"150px",align:"center","header-align":"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("p",[t._v("原价："+t._s(e.row.originalPrice))]),a("p",[t._v("现价："+t._s(e.row.price))])]}}])}),a("el-table-column",{attrs:{prop:"productCategoryName",label:"商品类别",align:"center","header-align":"center"}}),a("el-table-column",{attrs:{prop:"isShow",label:"标签","min-width":"150px",align:"center","header-align":"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("p",[t._v(" 最新： "),a("el-switch",{on:{change:function(a){return t.switchNewStatus(a,e.row.id)}},model:{value:e.row.newStatus,callback:function(a){t.$set(e.row,"newStatus",a)},expression:"scope.row.newStatus"}})],1),a("p",[t._v(" 推荐： "),a("el-switch",{on:{change:function(a){return t.switchRecommendStatus(a,e.row.id)}},model:{value:e.row.recommendStatus,callback:function(a){t.$set(e.row,"recommendStatus",a)},expression:"scope.row.recommendStatus"}})],1)]}}])}),a("el-table-column",{attrs:{prop:"isShow",label:"标签2","min-width":"150px",align:"center","header-align":"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("p",[t._v(" 发布： "),a("el-switch",{on:{change:function(a){return t.switchPublishStatus(a,e.row.id)}},model:{value:e.row.publishStatus,callback:function(a){t.$set(e.row,"publishStatus",a)},expression:"scope.row.publishStatus"}})],1),a("p",[t._v(" 审核： "),a("el-switch",{on:{change:function(a){return t.switchVerifyStatus(a,e.row.id)}},model:{value:e.row.verifyStatus,callback:function(a){t.$set(e.row,"verifyStatus",a)},expression:"scope.row.verifyStatus"}})],1)]}}])}),a("el-table-column",{attrs:{prop:"title",label:"sku",align:"center","header-align":"center"}},[a("el-button",{attrs:{type:"text"}},[t._v("编辑sku")])],1),a("el-table-column",{attrs:{prop:"weight",label:"重量","min-width":"80px",align:"center","header-align":"center"}}),a("el-table-column",{attrs:{prop:"sort",label:"排序","min-width":"150px",align:"center","header-align":"center"}}),a("el-table-column",{attrs:{prop:"editorType",label:"操作",width:"100px",fixed:"right",align:"center","header-align":"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text"},on:{click:function(a){return t.editProduct(e.row.id)}}},[t._v("编辑")]),a("el-button",{staticStyle:{color:"red"},attrs:{type:"text"},on:{click:function(a){return t.delProduct(e.row.id)}}},[t._v("删除")])]}}])})],1),a("el-pagination",{attrs:{"current-page":t.start,"page-sizes":[5,10,15,20],"page-size":10,layout:"total, sizes, prev, pager, next, jumper",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)])],1)},r=[],s=(a("89a8"),a("b110"),a("fe35"),a("8ea3"),a("1a91"),a("f3b6")),o=a("dabb"),l={name:"LejuAdminIndex",data:function(){return{start:1,limit:10,total:0,list:[],brandList:[],searchData:{brandId:"",id:"",name:"",productCategoryId:"",productSn:"",publishStatus:"",verifyStatus:""}}},created:function(){this.init()},mounted:function(){},methods:{editProduct:function(t){this.$router.push("/goodsManage/addGoodsDetail?id=".concat(t))},delProduct:function(t){var e=this;this.$confirm("此操作将永久删除该商品, 并会删除关联的sku, 同时会影响购物车, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){e.$message({type:"success",message:"删除成功!"}),Object(s["b"])(t).then((function(t){console.log(t),e.init()}))})).catch((function(){e.$message({type:"info",message:"已取消删除"})}))},onSubmit:function(){this.init()},resetSearch:function(){this.searchData={brandId:"",id:"",name:"",productCategoryId:"",productSn:"",publishStatus:"",verifyStatus:""}},addProduct:function(){this.$router.push("/goodsManage/addGoodsDetail")},exportExcel:function(){var t=this;Promise.all([a.e("chunk-9f8d8838"),a.e("chunk-70bc8fe1"),a.e("chunk-2133cd4f")]).then(a.bind(null,"4bf8")).then((function(e){var a=["商品名称","商品价格","商品类别"],n=["name","originalPrice","productCategoryName"],r=t.list,s=t.formatJson(n,r);e.export_json_to_excel({header:a,data:s,filename:"excel-list",autoWidth:!0,bookType:"xlsx"}),console.log(s)}))},formatJson:function(t,e){return e.map((function(e){return t.map((function(t){return"timestamp"===t?parseTime(e[t]):e[t]}))}))},switchNewStatus:function(t,e){var a=this;console.log(t,e),Object(s["e"])({productId:e,status:t?1:0}).then((function(t){console.log(t),a.$message({message:"修改状态成功",type:"success"}),a.init()}))},switchRecommendStatus:function(t,e){var a=this;Object(s["g"])({productId:e,status:t?1:0}).then((function(t){console.log(t),a.$message({message:"修改状态成功",type:"success"}),a.init()}))},switchPublishStatus:function(t,e){var a=this;Object(s["f"])({productId:e,status:t?1:0}).then((function(t){console.log(t),a.$message({message:"修改状态成功",type:"success"}),a.init()}))},switchVerifyStatus:function(t,e){var a=this;Object(s["h"])({productId:e,status:t?1:0}).then((function(t){console.log(t),a.$message({message:"修改状态成功",type:"success"}),a.init()}))},init:function(){var t=this;Object(s["d"])(this.start,this.limit,this.searchData).then((function(e){console.log(e),e.data.rows.forEach((function(t){t.newStatus=!!t.newStatus,t.recommendStatus=!!t.recommendStatus,t.publishStatus=!!t.publishStatus,t.verifyStatus=!!t.verifyStatus})),t.list=e.data.rows,t.total=e.data.total})),Object(o["a"])().then((function(e){console.log(e),t.brandList=e.data.items}))},handleSizeChange:function(t){this.limit=t,this.init()},handleCurrentChange:function(t){this.start=t,this.init()}}},c=l,i=(a("f103"),a("cba8")),u=Object(i["a"])(c,n,r,!1,null,"75135212",null);e["default"]=u.exports},f103:function(t,e,a){"use strict";a("3aea")},f3b6:function(t,e,a){"use strict";a.d(e,"d",(function(){return r})),a.d(e,"e",(function(){return s})),a.d(e,"g",(function(){return o})),a.d(e,"f",(function(){return l})),a.d(e,"h",(function(){return c})),a.d(e,"b",(function(){return i})),a.d(e,"a",(function(){return u})),a.d(e,"c",(function(){return d})),a.d(e,"i",(function(){return p}));a("b3d9");var n=a("b775");function r(t,e,a){return Object(n["a"])({url:"/lejuAdmin/product/productsByPage/".concat(t,"/").concat(e),method:"post",data:a})}function s(t){return Object(n["a"])({url:"/lejuAdmin/product/switchNewStatus",method:"post",data:t})}function o(t){return Object(n["a"])({url:"/lejuAdmin/product/switchRecommandStatus",method:"post",data:t})}function l(t){return Object(n["a"])({url:"/lejuAdmin/product/switchPublishStatus",method:"post",data:t})}function c(t){return Object(n["a"])({url:"/lejuAdmin/product/switchVerifyStatus",method:"post",data:t})}function i(t){return Object(n["a"])({url:"/lejuAdmin/product/del/".concat(t),method:"delete"})}function u(t){return Object(n["a"])({url:"/lejuAdmin/product/addProductAndSkus",method:"post",data:t})}function d(t){return Object(n["a"])({url:"/lejuAdmin/product/productSkusDetail/".concat(t)})}function p(t){return Object(n["a"])({url:"/lejuAdmin/product/updateProductAndSkus",method:"post",data:t})}}}]);